{"ast":null,"code":"var _jsxFileName = \"/home/alejandra/Escritorio/mariaAlejandraWilliams/fe3-final/src/Components/utils/global.context.jsx\";\nimport { createContext, useMemo, useState, useReducer } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const initialState = {\n  theme: \"light\",\n  favoritos: {}\n};\nexport const ContextGlobal = /*#__PURE__*/createContext(initialState);\n\nconst getFavsFromLocalStorage = () => {\n  const favs = localStorage.getItem('favoritesDentists');\n\n  if (favs) {\n    return JSON.parse(favs);\n  }\n\n  return {};\n};\n\nconst saveFavsToLocalStorage = favoritos => {\n  localStorage.setItem('favoritesDentists', JSON.stringify(favoritos));\n};\n\nconst addFav = (name, username, id) => {\n  // Aqui iria la logica para agregar la Card en el localStorage\n  let favoritos = getFavsFromLocalStorage();\n  favoritos[id] = {\n    name,\n    username\n  };\n  saveFavsToLocalStorage(favoritos);\n  return favoritos;\n};\n\nconst removeFav = id => {\n  let favoritos = getFavsFromLocalStorage();\n  delete favoritos[id];\n  saveFavsToLocalStorage(favoritos);\n  return favoritos;\n};\n\nexport const reducer = (state, action) => {\n  switch (action.type) {\n    case \"changeTheme\":\n      const newTheme = state.theme === 'light' ? 'dark' : 'light';\n      document.body.className = newTheme;\n      return { ...state,\n        theme: newTheme\n      };\n\n    case \"updateFav\":\n      let nuevosFavoritos;\n\n      if (action.dentist.id in state.favoritos) {\n        nuevosFavoritos = removeFav(action.dentist.id);\n      } else {\n        nuevosFavoritos = addFav(action.dentist.name, action.dentist.username, action.dentist.id);\n      }\n\n      return { ...state,\n        favoritos: nuevosFavoritos\n      };\n\n    default:\n      throw new Error(\"No existe el tipo de accion requerido\");\n  }\n};\nexport const ContextProvider = _ref => {\n  let {\n    children\n  } = _ref;\n  //Aqui deberan implementar la logica propia del Context, utilizando el hook useMemo\n  return /*#__PURE__*/_jsxDEV(ContextGlobal.Provider, {\n    value: {},\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n};\n_c = ContextProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"ContextProvider\");","map":{"version":3,"names":["createContext","useMemo","useState","useReducer","initialState","theme","favoritos","ContextGlobal","getFavsFromLocalStorage","favs","localStorage","getItem","JSON","parse","saveFavsToLocalStorage","setItem","stringify","addFav","name","username","id","removeFav","reducer","state","action","type","newTheme","document","body","className","nuevosFavoritos","dentist","Error","ContextProvider","children"],"sources":["/home/alejandra/Escritorio/mariaAlejandraWilliams/fe3-final/src/Components/utils/global.context.jsx"],"sourcesContent":["import { createContext, useMemo, useState, useReducer } from \"react\";\n\nexport const initialState = { theme: \"light\", favoritos: {} }\n\nexport const ContextGlobal = createContext(initialState);\n\nconst getFavsFromLocalStorage = () => {\n  const favs = localStorage.getItem('favoritesDentists');\n  if (favs) {\n    return JSON.parse(favs)\n  }\n\n  return {}\n}\n\nconst saveFavsToLocalStorage = (favoritos) => {\n  localStorage.setItem('favoritesDentists', JSON.stringify(favoritos))\n}\n\nconst addFav = (name, username, id) => {\n  // Aqui iria la logica para agregar la Card en el localStorage\n  let favoritos = getFavsFromLocalStorage()\n  favoritos[id] = { name, username };\n  saveFavsToLocalStorage(favoritos)\n  return favoritos\n}\n\nconst removeFav = (id) => {\n  let favoritos = getFavsFromLocalStorage();\n  delete favoritos[id];\n  saveFavsToLocalStorage(favoritos)\n  return favoritos\n}\n\nexport const reducer = (state, action) =>{\n  switch (action.type) {\n    case \"changeTheme\":\n      const newTheme = state.theme === 'light' ? 'dark' : 'light'\n      document.body.className = newTheme\n      return { ...state, theme: newTheme }\n    case \"updateFav\":\n      let nuevosFavoritos\n      if (action.dentist.id in state.favoritos) { \n        nuevosFavoritos = removeFav(action.dentist.id)\n      } else {\n        nuevosFavoritos = addFav(action.dentist.name, action.dentist.username, action.dentist.id)\n      }\n      return { ...state, favoritos: nuevosFavoritos }\n    default:\n      throw new Error(\"No existe el tipo de accion requerido\")\n  }\n}\n\nexport const ContextProvider = ({ children }) => {\n  //Aqui deberan implementar la logica propia del Context, utilizando el hook useMemo\n\n  return (\n    <ContextGlobal.Provider value={{}}>\n      {children}\n    </ContextGlobal.Provider>\n  );\n};\n"],"mappings":";AAAA,SAASA,aAAT,EAAwBC,OAAxB,EAAiCC,QAAjC,EAA2CC,UAA3C,QAA6D,OAA7D;;AAEA,OAAO,MAAMC,YAAY,GAAG;EAAEC,KAAK,EAAE,OAAT;EAAkBC,SAAS,EAAE;AAA7B,CAArB;AAEP,OAAO,MAAMC,aAAa,gBAAGP,aAAa,CAACI,YAAD,CAAnC;;AAEP,MAAMI,uBAAuB,GAAG,MAAM;EACpC,MAAMC,IAAI,GAAGC,YAAY,CAACC,OAAb,CAAqB,mBAArB,CAAb;;EACA,IAAIF,IAAJ,EAAU;IACR,OAAOG,IAAI,CAACC,KAAL,CAAWJ,IAAX,CAAP;EACD;;EAED,OAAO,EAAP;AACD,CAPD;;AASA,MAAMK,sBAAsB,GAAIR,SAAD,IAAe;EAC5CI,YAAY,CAACK,OAAb,CAAqB,mBAArB,EAA0CH,IAAI,CAACI,SAAL,CAAeV,SAAf,CAA1C;AACD,CAFD;;AAIA,MAAMW,MAAM,GAAG,CAACC,IAAD,EAAOC,QAAP,EAAiBC,EAAjB,KAAwB;EACrC;EACA,IAAId,SAAS,GAAGE,uBAAuB,EAAvC;EACAF,SAAS,CAACc,EAAD,CAAT,GAAgB;IAAEF,IAAF;IAAQC;EAAR,CAAhB;EACAL,sBAAsB,CAACR,SAAD,CAAtB;EACA,OAAOA,SAAP;AACD,CAND;;AAQA,MAAMe,SAAS,GAAID,EAAD,IAAQ;EACxB,IAAId,SAAS,GAAGE,uBAAuB,EAAvC;EACA,OAAOF,SAAS,CAACc,EAAD,CAAhB;EACAN,sBAAsB,CAACR,SAAD,CAAtB;EACA,OAAOA,SAAP;AACD,CALD;;AAOA,OAAO,MAAMgB,OAAO,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAkB;EACvC,QAAQA,MAAM,CAACC,IAAf;IACE,KAAK,aAAL;MACE,MAAMC,QAAQ,GAAGH,KAAK,CAAClB,KAAN,KAAgB,OAAhB,GAA0B,MAA1B,GAAmC,OAApD;MACAsB,QAAQ,CAACC,IAAT,CAAcC,SAAd,GAA0BH,QAA1B;MACA,OAAO,EAAE,GAAGH,KAAL;QAAYlB,KAAK,EAAEqB;MAAnB,CAAP;;IACF,KAAK,WAAL;MACE,IAAII,eAAJ;;MACA,IAAIN,MAAM,CAACO,OAAP,CAAeX,EAAf,IAAqBG,KAAK,CAACjB,SAA/B,EAA0C;QACxCwB,eAAe,GAAGT,SAAS,CAACG,MAAM,CAACO,OAAP,CAAeX,EAAhB,CAA3B;MACD,CAFD,MAEO;QACLU,eAAe,GAAGb,MAAM,CAACO,MAAM,CAACO,OAAP,CAAeb,IAAhB,EAAsBM,MAAM,CAACO,OAAP,CAAeZ,QAArC,EAA+CK,MAAM,CAACO,OAAP,CAAeX,EAA9D,CAAxB;MACD;;MACD,OAAO,EAAE,GAAGG,KAAL;QAAYjB,SAAS,EAAEwB;MAAvB,CAAP;;IACF;MACE,MAAM,IAAIE,KAAJ,CAAU,uCAAV,CAAN;EAdJ;AAgBD,CAjBM;AAmBP,OAAO,MAAMC,eAAe,GAAG,QAAkB;EAAA,IAAjB;IAAEC;EAAF,CAAiB;EAC/C;EAEA,oBACE,QAAC,aAAD,CAAe,QAAf;IAAwB,KAAK,EAAE,EAA/B;IAAA,UACGA;EADH;IAAA;IAAA;IAAA;EAAA,QADF;AAKD,CARM;KAAMD,e"},"metadata":{},"sourceType":"module"}
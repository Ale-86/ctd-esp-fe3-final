{"ast":null,"code":"var _jsxFileName = \"/home/alejandra/Escritorio/mariaAlejandraWilliams/fe3-final/src/Components/utils/global.context.jsx\",\n    _s = $RefreshSig$();\n\nimport { createContext, useMemo, useState, useReducer } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const initialState = {\n  theme: \"light\",\n  favoritos: {}\n};\nexport const ContextGlobal = /*#__PURE__*/createContext(initialState);\n\nconst getFavsFromLocalStorage = () => {\n  const favs = localStorage.getItem('favoritesDentists');\n\n  if (favs) {\n    return JSON.parse(favs);\n  }\n\n  return {};\n};\n\nconst saveFavsToLocalStorage = favoritos => {\n  localStorage.setItem('favoritesDentists', JSON.stringify(favoritos));\n};\n\nconst addFav = (name, username, id) => {\n  // Aqui iria la logica para agregar la Card en el localStorage\n  let favoritos = getFavsFromLocalStorage();\n  favoritos[id] = {\n    name,\n    username\n  };\n  saveFavsToLocalStorage(favoritos);\n  return favoritos;\n};\n\nconst removeFav = id => {\n  let favoritos = getFavsFromLocalStorage();\n  delete favoritos[id];\n  saveFavsToLocalStorage(favoritos);\n  return favoritos;\n};\n\nexport const reducer = (state, action) => {\n  switch (action.type) {\n    case \"changeTheme\":\n      const newTheme = state.theme === 'light' ? 'dark' : 'light';\n      document.body.className = newTheme;\n      return { ...state,\n        theme: newTheme\n      };\n\n    case \"updateFav\":\n      let nuevosFavoritos;\n\n      if (action.dentist.id in state.favoritos) {\n        nuevosFavoritos = removeFav(action.dentist.id);\n      } else {\n        nuevosFavoritos = addFav(action.dentist.name, action.dentist.username, action.dentist.id);\n      }\n\n      return { ...state,\n        favoritos: nuevosFavoritos\n      };\n\n    default:\n      throw new Error(\"No existe el tipo de accion requerido\");\n  }\n};\nexport const ContextProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  //Aqui deberan implementar la logica propia del Context, utilizando el hook useMemo\n  const [theme, setTheme] = useState(initialState.theme);\n  const [favoritos, setFavoritos] = useState(initialState.favoritos);\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const data = useMemo(() => {\n    const getDentists = async () => {\n      const dataFetch = await fetch(\"https://jsonplaceholder.typicode.com/users\").then(response => {\n        return response.json();\n      });\n      return dataFetch;\n    };\n\n    const getFavs = () => {\n      const favs = localStorage.getItem('favoritesDentists');\n      let favoritos = {};\n\n      if (favs) {\n        favoritos = JSON.parse(favs);\n      }\n\n      return favoritos;\n    };\n\n    return {\n      getDentists,\n      getFavs,\n      theme,\n      favoritos,\n      setTheme,\n      setFavoritos,\n      state,\n      dispatch\n    };\n  }, [theme, favoritos, state]);\n  return /*#__PURE__*/_jsxDEV(ContextGlobal.Provider, {\n    value: { ...data\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ContextProvider, \"O+G9ym4jbjtKZXLzT07iemeytr4=\");\n\n_c = ContextProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"ContextProvider\");","map":{"version":3,"names":["createContext","useMemo","useState","useReducer","initialState","theme","favoritos","ContextGlobal","getFavsFromLocalStorage","favs","localStorage","getItem","JSON","parse","saveFavsToLocalStorage","setItem","stringify","addFav","name","username","id","removeFav","reducer","state","action","type","newTheme","document","body","className","nuevosFavoritos","dentist","Error","ContextProvider","children","setTheme","setFavoritos","dispatch","data","getDentists","dataFetch","fetch","then","response","json","getFavs"],"sources":["/home/alejandra/Escritorio/mariaAlejandraWilliams/fe3-final/src/Components/utils/global.context.jsx"],"sourcesContent":["import { createContext, useMemo, useState, useReducer } from \"react\";\n\nexport const initialState = { theme: \"light\", favoritos: {} }\n\nexport const ContextGlobal = createContext(initialState);\n\nconst getFavsFromLocalStorage = () => {\n  const favs = localStorage.getItem('favoritesDentists');\n  if (favs) {\n    return JSON.parse(favs)\n  }\n\n  return {}\n}\n\nconst saveFavsToLocalStorage = (favoritos) => {\n  localStorage.setItem('favoritesDentists', JSON.stringify(favoritos))\n}\n\nconst addFav = (name, username, id) => {\n  // Aqui iria la logica para agregar la Card en el localStorage\n  let favoritos = getFavsFromLocalStorage()\n  favoritos[id] = { name, username };\n  saveFavsToLocalStorage(favoritos)\n  return favoritos\n}\n\nconst removeFav = (id) => {\n  let favoritos = getFavsFromLocalStorage();\n  delete favoritos[id];\n  saveFavsToLocalStorage(favoritos)\n  return favoritos\n}\n\nexport const reducer = (state, action) =>{\n  switch (action.type) {\n    case \"changeTheme\":\n      const newTheme = state.theme === 'light' ? 'dark' : 'light'\n      document.body.className = newTheme\n      return { ...state, theme: newTheme }\n    case \"updateFav\":\n      let nuevosFavoritos\n      if (action.dentist.id in state.favoritos) { \n        nuevosFavoritos = removeFav(action.dentist.id)\n      } else {\n        nuevosFavoritos = addFav(action.dentist.name, action.dentist.username, action.dentist.id)\n      }\n      return { ...state, favoritos: nuevosFavoritos }\n    default:\n      throw new Error(\"No existe el tipo de accion requerido\")\n  }\n}\n\nexport const ContextProvider = ({ children }) => {\n  //Aqui deberan implementar la logica propia del Context, utilizando el hook useMemo\n  const [theme, setTheme] = useState(initialState.theme)\n  const [favoritos, setFavoritos] = useState(initialState.favoritos)\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  const data = useMemo(() => {\n    \n    const getDentists = async () => {\n      const dataFetch = await fetch(\"https://jsonplaceholder.typicode.com/users\")\n        .then((response) => {\n          return response.json()\n        })\n      return dataFetch\n    }\n\n    const getFavs = () => {\n      const favs = localStorage.getItem('favoritesDentists');\n      let favoritos = {}\n      if (favs) {\n        favoritos = JSON.parse(favs)\n      }\n\n      return favoritos\n    }\n\n\n    return { getDentists, getFavs, theme, favoritos, setTheme, setFavoritos, state, dispatch }\n  }, [theme, favoritos, state])\n  \n\n  return (\n    <ContextGlobal.Provider value={{ ...data }}>\n      {children}\n    </ContextGlobal.Provider>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}